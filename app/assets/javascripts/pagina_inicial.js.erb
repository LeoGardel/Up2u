//movimento das caixas ao clikar em entrar ou registrar
var slidingEntrarRegistrar = false;
var velocidadeEntrarRegistrar = 500;

function botaoEntrarClicado() {
  if (!(slidingEntrarRegistrar)){
    slidingEntrarRegistrar = true;

    $('#caixa_registrar').slideUp(velocidadeEntrarRegistrar, function(){
      $('#caixa_entrar').slideToggle(velocidadeEntrarRegistrar, function(){slidingEntrarRegistrar = false;});
    });

  }
}

function botaoRegistrarClicado() {
  if (!(slidingEntrarRegistrar)){
    slidingEntrarRegistrar = true;

    $('#caixa_entrar').slideUp(velocidadeEntrarRegistrar, function(){
      $('#caixa_registrar').slideToggle(velocidadeEntrarRegistrar, function(){slidingEntrarRegistrar = false;});
    });

  }
}
//////


//movimento ao clikar na barra de passos
var slidingPassos = false;
var velocidadeBarraPassos = 1000;

function barraPassosClicada() {
  if (!(slidingPassos)){
    slidingPassos = true;
    if (document.getElementById('barra_passos_down_container').style.display === "none") {
      document.getElementById('barra_passos_down_container').style.display = "inline";
      document.getElementById('barra_passos_up_container').style.display = "none";
      
      var alturaJanela = $(document).height();

      //não reescala com a janela
      $('#painel_passos').css("height",alturaJanela - 53);
      $('#painel_passos').slideDown(velocidadeBarraPassos, function(){slidingPassos = false;});
    }
    else {
      document.getElementById('barra_passos_down_container').style.display = "none";
      document.getElementById('barra_passos_up_container').style.display = "inline";

      $('#painel_passos').slideUp(velocidadeBarraPassos, function(){slidingPassos = false;});
    }
  }
}
//////


//movimento ao clikar no botao de Entrar no rodapé da página, abaixo do painel de passos
function entrarRodapeClicado() {
  if (!(slidingPassos)){
    if (!(slidingEntrarRegistrar)){
      slidingEntrarRegistrar = true;
      $('#caixa_registrar').slideUp(velocidadeEntrarRegistrar, function(){
        $('#caixa_entrar').slideDown(velocidadeEntrarRegistrar, function(){slidingEntrarRegistrar = false;});
      });
    }
  }
  barraPassosClicada();
}
//////


//movimento ao clikar no botao de Registrar no rodapé da página, abaixo do painel de passos
function registrarRodapeClicado() {
  if (!(slidingPassos)){
    if (!(slidingEntrarRegistrar)){
      slidingEntrarRegistrar = true;
      $('#caixa_entrar').slideUp(velocidadeEntrarRegistrar, function(){
        $('#caixa_registrar').slideDown(velocidadeEntrarRegistrar, function(){slidingEntrarRegistrar = false;});
      });
    }
  }
  barraPassosClicada();
}
//////


//reescalar o painel de passos ao reescalar a janela, caso ele esteja aberto
window.onresize = function()
{
  if (document.getElementById('barra_passos_up_container').style.display == "none") {
    
    var alturaJanela = $(document).height();

    //não reescala com a janela
    $('#painel_passos').css("height",alturaJanela - 53);
  }
}
//////

//pré carregar as imagens de "hover"
(function($) {
  var cache = [];
  // Arguments are image paths relative to the current page.
  $.preLoadImages = function() {
    var args_len = arguments.length;
    for (var i = args_len; i--;) {
      var cacheImage = document.createElement('img');
      cacheImage.src = arguments[i];
      cache.push(cacheImage);
    }
  }
})(jQuery)

jQuery.preLoadImages(
  "<%= image_path 'pagina_inicial/botao_facebook_ativo.jpg' %>",
  "<%= image_path 'pagina_inicial/botao_linkedin_ativo.jpg'  %>",
  "<%= image_path 'pagina_inicial/rodape_passos_up_ativo.jpg'  %>",
  "<%= image_path 'pagina_inicial/rodape_passos_down.jpg' %>",
  "<%= image_path 'pagina_inicial/rodape_passos_down_ativo.jpg' %>"
);
//////