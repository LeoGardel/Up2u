<%= stylesheet "devise_pages" %>
<%= javascript "editar_cargo_area" %>

<div class="titulo" style="position: relative; margin-top: 15px">Minha Meta</div>

<div style="width: 800px; text-align: center; position: relative; margin-top: 15px; margin-left: auto; margin-right: auto; display: inline-block">

  <%= form_tag(:url => dashboard_salvar_cargo_area_path, :html => { :method => :post }) do %>
    <div style="width: 45%; float: left; text-align: center; position: relative">
      <div class="texto_principal">Área de Interesse</div>
      <% if current_usuario.area %>
        <%= collection_select(:area, :area_id, @areas, :id, :nome, {:selected => current_usuario.area.id}, {:onChange => 'areaAlterada(this.selectedIndex)'}) %>
      <% else %>
        <%= collection_select(:area, :area_id, @areas, :id, :nome, {:prompt => "-Selecione"}, {:onChange => 'areaAlterada(this.selectedIndex)'}) %>
      <% end %><br>
      <div id="area_descr" style="width: 75%; margin-left: auto; margin-right: auto;">
        <% if current_usuario.area %>
          <%= current_usuario.area.descr %>
        <% end %>
      </div>
    </div>
    <div style="width: 10%; float: left; text-align: center; position: relative">
      <%= submit_tag "Salvar", :class => "btn" %>
    </div>
    <div style="width: 45%; float: right; text-align: center; position: relative">
      <div class="texto_principal">Posição Almejada</div>
      <% if current_usuario.cargo %>
        <%= collection_select(:cargo, :cargo_id, @cargos, :id, :nome, {:selected => current_usuario.cargo.id}, {:onChange => 'cargoAlterado(this.selectedIndex)'}) %>
      <% else %>
        <%= collection_select(:cargo, :cargo_id, @cargos, :id, :nome, {:prompt => "-Selecione"}, {:onChange => 'cargoAlterado(this.selectedIndex)'}) %>
      <% end %><br>
      <div id="cargo_descr" style="width: 75%; margin-left: auto; margin-right: auto;">
        <% if current_usuario.cargo %>
          <%= current_usuario.cargo.descr %>
        <% end %>
      </div>
    </div>
  <% end %>

</div>
<div style="width: 800px; text-align: center; margin-left: auto; margin-right: auto;">
  <div class="texto_principal">
    <span id="cargo">
      <% if current_usuario.area and current_usuario.cargo %>
        <%= current_usuario.cargo.nome %>
      <% end %>
    </span> 
    <span id="area_adj">
      <% if current_usuario.area and current_usuario.cargo %>
        <%= current_usuario.area.nome_adjetivo %>
      <% end %>
    </span>
  </div>
  <div style="width: 270px; text-align: center; margin-left: auto; margin-right: auto">
    Area area area area area area area area area area area area area area area area area area area area area areaarea area area area area area area area area area area area area area area area area area area area area area area area area area area area area area area area area area area area area area area area area area
  </div>
</div>

<%= javascript_tag do %>
  areas = <%=raw @areas.to_json %>;
  cargos = <%=raw @cargos.to_json %>;
<% end %>